"use strict";(self.webpackChunkmetapledefi=self.webpackChunkmetapledefi||[]).push([[360],{35628:function(e,t,n){n.d(t,{Z:function(){return Ee}});var i=n(42982),o=n(15861),a=n(1413),l=n(4942),r=n(70885),d=n(87757),s=n.n(d),c=n(72791),u=n(16030),x=n(54385),v=n(2257),m=n(16871),g=n(94942),h=n(35230),b=n(86047),p=n(23529),f=n(65200),N=n(12506),C=n(96912),y=n(82147),R=n(21705),k=n(176),j=new y.vU(C.Mt),w=0,E=1,U=2,Z=3;function _(e,t){return function(e){var t=(0,b.Z)().chainId,n=(0,c.useMemo)((function(){return e.map((function(e){var n=(0,r.Z)(e,2),i=n[0],o=n[1];return[(0,k.pu)(i,t),(0,k.pu)(o,t)]}))}),[t,e]),i=(0,c.useMemo)((function(){return n.map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return n&&i&&!n.equals(i)?x.sO.getAddress(n,i):void 0}))}),[n]),o=(0,R._Y)(i,j,"getReserves");return(0,c.useMemo)((function(){return o.map((function(e,t){var i=e.result,o=e.loading,a=n[t][0],l=n[t][1];if(o)return[w,null];if(!a||!l||a.equals(l))return[Z,null];if(!i)return[E,null];var d=i.reserve0,s=i.reserve1,c=a.sortsBefore(l)?[a,l]:[l,a],u=(0,r.Z)(c,2),v=u[0],m=u[1];return[U,new x.sO(new x.dt(v,d.toString()),new x.dt(m,s.toString()))]}))}),[o,n])}([[e,t]])[0]}var A=n(44253);var Y=function(e){var t,n,i=(0,A.Ib)(null===e||void 0===e?void 0:e.address,!1),o=null===(t=(0,R.Wk)(i,"totalSupply"))||void 0===t||null===(n=t.result)||void 0===n?void 0:n[0];return e&&o?new x.dt(e,o.toString()):void 0},P=n(54285),S=n(17764),B=n(78235),T=x.QA.BigInt(0);function I(){return(0,u.v9)((function(e){return e.mint}))}var q=n(14710),L=n(74004),M=n(24822),V=n(13362),O=n(17406);function D(e){if(e===x.c0)return"BNB";if(e)return e.address;throw new Error("invalid currency")}var K,F=n(76049),G=n(53413),H=n(30168),Q=n(17939).ZP.span(K||(K=(0,H.Z)(["\n  &::after {\n    display: inline-block;\n    animation: ellipsis 1.25s infinite;\n    content: '.';\n    width: 1em;\n    text-align: left;\n  }\n  @keyframes ellipsis {\n    0% {\n      content: '.';\n    }\n    33% {\n      content: '..';\n    }\n    66% {\n      content: '...';\n    }\n  }\n"]))),W=n(33017),z=n(70316),$=n(77904),X=n(31767),J=n(80184);function ee(e){var t,n,i,o=e.currency,a=e.item,l=e.selectedToken,r=e.tokenSelected,d=(0,b.Z)().account,s=(0,S._h)(null!==d&&void 0!==d?d:void 0,null!==o&&void 0!==o?o:void 0);return(0,J.jsxs)("a",{href:"javascript:void(0);",onClick:function(){r(a)},disabled:(null===l||void 0===l||null===(t=l.address)||void 0===t?void 0:t.toLowerCase())===(null===a||void 0===a||null===(n=a.address)||void 0===n?void 0:n.toLowerCase()),className:"tokens-list-item p-3 border-b last:border-b-0 border-gray-100 border-opacity-10 flex flex-row items-center justify-between hover:bg-black hover:bg-opacity-5 dark:hover:bg-white dark:hover:bg-opacity-25",children:[(0,J.jsxs)("div",{className:"token-info flex flex-row items-center justify-start",children:[(0,J.jsx)("div",{className:"tokan-icon mr-2",children:(0,J.jsx)("img",{src:"".concat(null===a||void 0===a?void 0:a.tokenImg,"?w=248&fit=crop&auto=format"),width:32,alt:""})}),(0,J.jsxs)("div",{className:"tokan-info",children:[(0,J.jsx)("div",{className:"text-black dark:text-white text-sm font-semibold mb-1",children:null===a||void 0===a?void 0:a.name}),(0,J.jsx)("div",{className:"text-black dark:text-white text-opacity-50 text-xs",children:null===a||void 0===a?void 0:a.symbol})]})]}),(0,J.jsx)("div",{className:"flex flex-row items-center justify-end",children:(0,J.jsx)("div",{className:"text-black dark:text-white text-opacity-50 text-2sm mr-2",children:"".concat(null!==(i=null===s||void 0===s?void 0:s.toSignificant(6))&&void 0!==i?i:"Loading")})})]},null===a||void 0===a?void 0:a.address)}var te=n(98823),ne=RegExp("^\\d*(?:\\\\[.])?\\d*$");function ie(e){var t,n=e.tokenSymbol,i=void 0===n?"bnb":n,o=(e.isMax,e.tokenAddress),a=void 0===o?"":o,l=e.label,d=void 0===l?"":l,s=(e.placeHolder,e.inputValue),u=void 0===s?"":s,x=e.onInputChange,v=void 0===x?null:x,m=e.onItemChange,g=void 0===m?null:m,h=e.tokenImg,p=void 0===h?"./tokens/bnb.png":h,f=(e.showApprove,e.onApprove,e.approveText,e.onMax,e.selectedToken),N=(e.isDisabled,(0,c.useState)(i)),C=(0,r.Z)(N,2),y=(C[0],C[1]),R=(0,c.useState)(p),k=(0,r.Z)(R,2),j=(k[0],k[1]),w=(0,c.useState)(a),E=(0,r.Z)(w,2),U=(E[0],E[1]),Z=(0,b.Z)().account,_=(0,c.useState)(!1),A=(0,r.Z)(_,2),Y=A[0],P=A[1],T=(0,$.I0)(),I=(0,$.v9)((function(e){return e.tokens})),q=(I.tokens,I.pooltokens);(0,c.useEffect)((function(){T((0,X.Vr)())}),[T]);var L=function(){P(!1)},M=function(e){j(e.tokenImg),U(e.address),y(e.symbol),P(!1),g(e)},V=(0,S._h)(null!==Z&&void 0!==Z?Z:void 0,null!==f&&void 0!==f?f:void 0);return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("div",{className:"token-select-input",children:[(0,J.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,J.jsx)("div",{className:"text-sm text-black dark:text-white text-opacity-50 hover:text-opacity-100 font-semibold",children:d}),(0,J.jsxs)("div",{className:"text-sm text-black dark:text-gray-400 hover:text-indigo-500 dark:hover:text-white",children:["Balance: ",null!==(t=null===V||void 0===V?void 0:V.toSignificant(6))&&void 0!==t?t:"Loading"]})]}),(0,J.jsxs)("div",{className:"token-row flex flex-row items-center justify-between my-2",children:[(0,J.jsxs)("button",{className:"select-source-token token-row flex flex-row items-center justify-start",onClick:function(){P(!0)},children:[(0,J.jsx)("div",{className:"tokan-icon mr-2 w-6",children:(0,J.jsx)(te.Z,{currency:f})}),(0,J.jsx)("div",{className:"token-name text-2sm text-black dark:text-white font-semibold mt-1",children:(f&&f.symbol&&f.symbol.length>20?"".concat(f.symbol.slice(0,4),"...").concat(f.symbol.slice(f.symbol.length-5,f.symbol.length)):null===f||void 0===f?void 0:f.symbol)||"Select"}),(0,J.jsx)("i",{className:"las la-angle-down ml-2 text-black dark:text-white"})]}),(0,J.jsx)("div",{className:"tokan-input",children:(0,J.jsx)("input",{className:"bg-transparent border-0 p-0 bg-gray-100 w-full outline-none text-sm appearance-none",inputMode:"decimal",maxLength:18,pattern:"^[0-9]*[.,]?[0-9]*$","x-inputmode":"decimal",tabIndex:0,defaultValue:1,type:"text",fullWidth:!0,value:u,variant:"filled",label:d,placeholder:"0.0",title:d,onInput:function(e){var t;(""===(t=e.target.value.replace(/,/g,"."))||ne.test((0,B.hr)(t)))&&v(t)}})})]})]}),Y?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none px-3",children:(0,J.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-xl",children:(0,J.jsxs)("div",{className:"border-0 rounded-3xl shadow-lg relative flex flex-col w-full bg-white dark:bg-indigo-900 outline-none focus:outline-none",children:[(0,J.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 dark:border-gray-100 dark:border-opacity-10 rounded-t",children:[(0,J.jsx)("h3",{className:"text-lg font-semibold",children:"Select a Token"}),(0,J.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-40 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:L,children:(0,J.jsx)("span",{className:"bg-transparent text-black dark:text-white hover:text-indigo-600 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),(0,J.jsx)("div",{className:"relative p-6 flex-auto",children:(0,J.jsx)("div",{className:"rounded-b-3xl overflow-hidden",children:(0,J.jsxs)("div",{className:"token-list",children:[!q&&(0,J.jsx)("div",{loading:!0,children:"Loading Token List..."}),null===q||void 0===q?void 0:q.map((function(e){return(0,J.jsx)(ee,{item:e,tokenSelected:M,selectedToken:f,currency:e},null===e||void 0===e?void 0:e.address)}))]})})}),(0,J.jsx)("div",{className:"flex items-center flex-col justify-end px-6 py-4 border-t border-solid border-blueGray-200 dark:border-gray-100 dark:border-opacity-10 rounded-b",children:(0,J.jsx)("button",{className:"bg-indigo-500 hover:bg-sky-600 text-white active:bg-sky-600 font-bold uppercase text-xs w-full px-6 py-3 rounded-xl shadow hover:shadow-lg outline-none focus:outline-none ease-linear transition-all duration-150",type:"button",onClick:L,children:"Close"})})]})})}),(0,J.jsx)("div",{className:"opacity-75 fixed inset-0 z-40 bg-black backdrop-blur-xl"})]}):null]})}var oe=n(89426),ae=n(46087),le=n(63366),re=n(87462),de=n(28182),se=n(80163),ce=n(55477),ue=n(80920),xe=n(59903),ve=n(34923);function me(e){return(0,ve.Z)("MuiCardHeader",e)}var ge=(0,n(50782).Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),he=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],be=(0,xe.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,t){var n;return(0,re.Z)((n={},(0,l.Z)(n,"& .".concat(ge.title),t.title),(0,l.Z)(n,"& .".concat(ge.subheader),t.subheader),n),t.root)}})({display:"flex",alignItems:"center",padding:16}),pe=(0,xe.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,t){return t.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),fe=(0,xe.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,t){return t.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),Ne=(0,xe.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,t){return t.content}})({flex:"1 1 auto"}),Ce=c.forwardRef((function(e,t){var n=(0,ue.Z)({props:e,name:"MuiCardHeader"}),i=n.action,o=n.avatar,a=n.className,l=n.component,r=void 0===l?"div":l,d=n.disableTypography,s=void 0!==d&&d,c=n.subheader,u=n.subheaderTypographyProps,x=n.title,v=n.titleTypographyProps,m=(0,le.Z)(n,he),g=(0,re.Z)({},n,{component:r,disableTypography:s}),h=function(e){var t=e.classes;return(0,se.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},me,t)}(g),b=x;null==b||b.type===ce.Z||s||(b=(0,J.jsx)(ce.Z,(0,re.Z)({variant:o?"body2":"h5",className:h.title,component:"span",display:"block"},v,{children:b})));var p=c;return null==p||p.type===ce.Z||s||(p=(0,J.jsx)(ce.Z,(0,re.Z)({variant:o?"body2":"body1",className:h.subheader,color:"text.secondary",component:"span",display:"block"},u,{children:p}))),(0,J.jsxs)(be,(0,re.Z)({className:(0,de.Z)(h.root,a),as:r,ref:t,ownerState:g},m,{children:[o&&(0,J.jsx)(pe,{className:h.avatar,ownerState:g,children:o}),(0,J.jsxs)(Ne,{className:h.content,ownerState:g,children:[b,p]}),i&&(0,J.jsx)(fe,{className:h.action,ownerState:g,children:i})]}))})),ye=n(61540),Re=n(26483),ke=n(77321);function je(e){var t=e.pair,n=(0,b.Z)(),i=n.account,a=n.library,l=(0,k.Bv)(t.token0),d=(0,k.Bv)(t.token1),u=(0,c.useState)(!1),v=(0,r.Z)(u,2),m=(v[0],v[1],(0,S.mM)(null!==i&&void 0!==i?i:void 0,t.liquidityToken)),g=Y(t.liquidityToken),h=(0,M.gv)(t,O.NU),p=(0,r.Z)(h,2),f=p[0],N=p[1],C=function(){var e=(0,o.Z)(s().mark((function e(){var n,o,l,r,d,c,u,x,v,m,g,h,b,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,z.uN)(O.NU,ke.qV,a.getSigner());case 3:return n=e.sent,e.next=6,(0,z.uN)(t.liquidityToken.address,ke.a2,a.getSigner());case 6:if(o=e.sent,null==n){e.next=42;break}return e.next=10,o.totalSupply();case 10:return l=e.sent,e.next=13,o.token0();case 13:return r=e.sent,e.next=16,o.token1();case 16:return d=e.sent,e.next=19,(0,z.uN)(r,ke.ZP,a.getSigner());case 19:return c=e.sent,e.next=22,(0,z.uN)(d,ke.ZP,a.getSigner());case 22:return u=e.sent,e.next=25,c.balanceOf(o.address);case 25:return x=e.sent,e.next=28,u.balanceOf(o.address);case 28:return v=e.sent,e.next=31,o.balanceOf(i);case 31:return m=e.sent,g=m*x/l,h=m*v/l,(b=m/l)>99.99?b=99.99:b<.01&&(b=.01),e.next=40,n.removeLiquidity(r,d,m,(0,z.KE)(g),(0,z.KE)(h),i,(0,z.fQ)());case 40:p=e.sent,(0,z.B)(p.wait());case 42:e.next=48;break;case 44:e.prev=44,e.t0=e.catch(0),console.log(e.t0),(0,z.x2)(e.t0.data?e.t0.data.message:e.t0.message);case 48:case"end":return e.stop()}}),e,null,[[0,44]])})));return function(){return e.apply(this,arguments)}}(),y=m&&g&&x.QA.greaterThanOrEqual(g.raw,m.raw)?new x.gG(m.raw,g.raw):void 0,R=t&&g&&m&&x.QA.greaterThanOrEqual(g.raw,m.raw)?[t.getLiquidityValue(t.token0,g,m,!1),t.getLiquidityValue(t.token1,g,m,!1)]:[void 0,void 0],j=(0,r.Z)(R,2),w=j[0],E=j[1];return parseFloat(m.toSignificant(18))>0&&(0,J.jsx)(oe.ZP,{item:!0,xs:12,md:12,sx:{textAlign:"center"},children:(0,J.jsxs)(ae.Z,{children:[(0,J.jsx)(Ce,{title:"Pool Details",subheader:"Pool balances in your wallet"}),(0,J.jsxs)(ye.Z,{children:[(0,J.jsxs)(oe.ZP,{container:!0,spacing:1,children:[(0,J.jsx)(oe.ZP,{item:!0,xs:6,md:6,children:l&&d?"".concat(l.symbol,"/").concat(d.symbol," LPs"):(0,J.jsx)(Q,{children:"Loading"})}),(0,J.jsx)(oe.ZP,{item:!0,xs:6,md:6,children:(0,J.jsx)("b",{children:null===m||void 0===m?void 0:m.toSignificant(4)})})]}),(0,J.jsxs)(oe.ZP,{container:!0,spacing:1,children:[(0,J.jsxs)(oe.ZP,{item:!0,xs:6,md:6,children:[l.symbol," Tokens"]}),(0,J.jsx)(oe.ZP,{item:!0,xs:6,md:6,children:(0,J.jsx)("b",{children:w?null===w||void 0===w?void 0:w.toSignificant(6):"-"})})]}),(0,J.jsxs)(oe.ZP,{container:!0,spacing:1,children:[(0,J.jsxs)(oe.ZP,{item:!0,xs:6,md:6,children:[d.symbol," Tokens"]}),(0,J.jsx)(oe.ZP,{item:!0,xs:6,md:6,children:(0,J.jsx)("b",{children:E?null===E||void 0===E?void 0:E.toSignificant(6):"-"})})]}),(0,J.jsxs)(oe.ZP,{container:!0,spacing:1,children:[(0,J.jsx)(oe.ZP,{item:!0,xs:6,md:6,children:"Pool Shares"}),(0,J.jsx)(oe.ZP,{item:!0,xs:6,md:6,children:(0,J.jsx)("b",{style:{color:"green"},children:y?"".concat("0.00"===y.toFixed(2)?"<0.01":y.toFixed(2),"%"):"-"})})]}),(0,J.jsxs)(oe.ZP,{container:!0,spacing:1,children:[(0,J.jsx)(oe.ZP,{item:!0,xs:6,md:6,children:(0,J.jsx)(Re.Z,{variant:"contained",fullWidth:!0,sx:{maxWidth:620,borderRadius:25},onClick:N,size:"large",disabled:f===M.UK.APPROVED,children:"Approve to Remove"})}),(0,J.jsx)(oe.ZP,{item:!0,xs:6,md:6,children:(0,J.jsx)(Re.Z,{variant:"contained",color:"error",onClick:C,fullWidth:!0,sx:{maxWidth:620,borderRadius:25},size:"large",disabled:f!==M.UK.APPROVED||parseFloat(m.toFixed(2))<=0,children:"Remove Liquidity"})})]})]})]})})}var we=n(72479);function Ee(){var e,t,n,d,C,y,R,j,w,U,A,K,H,$,X,ee,te,ne,oe,ae=c.useState(!1),le=(0,r.Z)(ae,2),re=le[0],de=le[1],se=(0,b.Z)(),ce=se.account,ue=se.chainId,xe=se.library,ve=((0,m.s0)(),(0,u.I0)()),me=(0,p.Fh)(),ge=(0,c.useState)(""),he=(0,r.Z)(ge,2),be=he[0],pe=he[1],fe=(0,c.useState)(""),Ne=(0,r.Z)(fe,2),Ce=Ne[0],ye=Ne[1],Re=(0,f.U8)(be),ke=(0,f.U8)(Ce);(0,c.useEffect)((function(){be||Ce||ve((0,N.dA)())}),[ve,be,Ce]);Boolean(ue&&(Re&&(0,x.KA)(Re,x.DX[ue])||ke&&(0,x.KA)(ke,x.DX[ue]))),(0,p.LO)();var Ee=I(),Ue=Ee.independentField,Ze=Ee.typedValue,_e=Ee.otherTypedValue,Ae=function(e,t){var n,i=(0,b.Z)(),o=i.account,a=i.chainId,d=I(),s=d.independentField,u=d.typedValue,v=d.otherTypedValue,m=s===N.gN.CURRENCY_A?N.gN.CURRENCY_B:N.gN.CURRENCY_A,g=(0,c.useMemo)((function(){var n;return n={},(0,l.Z)(n,N.gN.CURRENCY_A,null!==e&&void 0!==e?e:void 0),(0,l.Z)(n,N.gN.CURRENCY_B,null!==t&&void 0!==t?t:void 0),n}),[e,t]),h=_(g[N.gN.CURRENCY_A],g[N.gN.CURRENCY_B]),p=(0,r.Z)(h,2),f=p[0],C=p[1];console.log(C);var y,R=Y(null===C||void 0===C?void 0:C.liquidityToken),j=f===E||Boolean(R&&x.QA.equal(R.raw,T)),w=(0,S.K5)(null!==o&&void 0!==o?o:void 0,[g[N.gN.CURRENCY_A],g[N.gN.CURRENCY_B]]),U=(n={},(0,l.Z)(n,N.gN.CURRENCY_A,w[0]),(0,l.Z)(n,N.gN.CURRENCY_B,w[1]),n),A=(0,P.eo)(u,g[s]),q=(0,c.useMemo)((function(){if(j)return v&&g[m]?(0,P.eo)(v,g[m]):void 0;if(A){var n=(0,k.N)(A,a),i=[(0,k.pu)(e,a),(0,k.pu)(t,a)],o=i[0],l=i[1];try{if(o&&l&&n&&C){var r=m===N.gN.CURRENCY_B?t:e,d=m===N.gN.CURRENCY_B?C.priceOf(o).quote(n):C.priceOf(l).quote(n);return r===x.c0?x.ih.ether(d.raw):d}}catch(s){return}}}),[j,v,g,m,A,e,a,t,C]),L=(0,c.useMemo)((function(){var e;return e={},(0,l.Z)(e,N.gN.CURRENCY_A,s===N.gN.CURRENCY_A?A:q),(0,l.Z)(e,N.gN.CURRENCY_B,s===N.gN.CURRENCY_A?q:A),e}),[q,A,s]),M=(0,c.useMemo)((function(){if(j){var t=L[N.gN.CURRENCY_A],n=L[N.gN.CURRENCY_B];return t&&n?new x.tA(t.currency,n.currency,t.raw,n.raw):void 0}var i=(0,k.pu)(e,a);return C&&i?C.priceOf(i):void 0}),[a,e,j,C,L]),V=(0,c.useMemo)((function(){var e=L[N.gN.CURRENCY_A],t=L[N.gN.CURRENCY_B];(0,k.N)(e,a),(0,k.N)(t,a)}),[L,a,C,R]),O=(0,c.useMemo)((function(){if(V&&R)return new x.gG(V.raw,R.add(V).raw)}),[V,R]);o||(y="Connect Wallet"),f===Z&&(y=null!==y&&void 0!==y?y:"Invalid pair"),L[N.gN.CURRENCY_A]&&L[N.gN.CURRENCY_B]||(y=null!==y&&void 0!==y?y:"Enter an amount");var D,K,F=L[N.gN.CURRENCY_A],G=L[N.gN.CURRENCY_B];return F&&null!==U&&void 0!==U&&U[N.gN.CURRENCY_A]&&(0,B.Qj)(null===U||void 0===U?void 0:U[N.gN.CURRENCY_A],F)&&(y="Insufficient ".concat(null===(D=g[N.gN.CURRENCY_A])||void 0===D?void 0:D.symbol," balance")),G&&null!==U&&void 0!==U&&U[N.gN.CURRENCY_B]&&(0,B.Qj)(null===U||void 0===U?void 0:U[N.gN.CURRENCY_B],G)&&(y="Insufficient ".concat(null===(K=g[N.gN.CURRENCY_B])||void 0===K?void 0:K.symbol," balance")),{dependentField:m,currencies:g,pair:C,pairState:f,currencyBalances:U,parsedAmounts:L,price:M,noLiquidity:j,liquidityMinted:V,poolTokenPercentage:O,error:y}}(null!==Re&&void 0!==Re?Re:void 0,null!==ke&&void 0!==ke?ke:void 0),Ye=Ae.dependentField,Pe=Ae.currencies,Se=(Ae.pair,Ae.pairState),Be=Ae.currencyBalances,Te=Ae.parsedAmounts,Ie=Ae.price,qe=Ae.noLiquidity,Le=(Ae.liquidityMinted,Ae.poolTokenPercentage),Me=Ae.error,Ve=function(e){var t=(0,u.I0)();return{onFieldAInput:(0,c.useCallback)((function(n){t((0,N.LC)({field:N.gN.CURRENCY_A,typedValue:n,noLiquidity:!0===e}))}),[t,e]),onFieldBInput:(0,c.useCallback)((function(n){t((0,N.LC)({field:N.gN.CURRENCY_B,typedValue:n,noLiquidity:!0===e}))}),[t,e])}}(qe),Oe=Ve.onFieldAInput,De=Ve.onFieldBInput,Ke=!Me,Fe=(0,c.useState)(!1),Ge=(0,r.Z)(Fe,2),He=(Ge[0],Ge[1]),Qe=(0,q.Z)(),We=(0,p.$2)(),ze=(0,r.Z)(We,1)[0],$e=(0,c.useState)(""),Xe=(0,r.Z)($e,2),Je=(Xe[0],Xe[1]),et=(n={},(0,l.Z)(n,Ue,Ze),(0,l.Z)(n,Ye,qe?_e:null!==(e=null===(t=Te[Ye])||void 0===t?void 0:t.toSignificant(6))&&void 0!==e?e:""),n),tt=[N.gN.CURRENCY_A,N.gN.CURRENCY_B].reduce((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},(0,l.Z)({},t,(0,L.i)(Be[t])))}),{}),nt=[N.gN.CURRENCY_A,N.gN.CURRENCY_B].reduce((function(e,t){var n;return(0,a.Z)((0,a.Z)({},e),{},(0,l.Z)({},t,tt[t]===(null!==(n=Te[t])&&void 0!==n?n:"0")))}),{}),it=(0,M.qL)(Te[N.gN.CURRENCY_A],O.NU),ot=(0,r.Z)(it,2),at=ot[0],lt=ot[1],rt=(0,M.qL)(Te[N.gN.CURRENCY_B],O.NU),dt=(0,r.Z)(rt,2),st=dt[0],ct=dt[1],ut=(0,V.h7)();function xt(){return(xt=(0,o.Z)(s().mark((function e(){var t,n,o,r,d,c,u,m,g,h,b,p,f,C,y,R;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue&&xe&&ce){e.next=2;break}return e.abrupt("return");case 2:if(n=(0,B.Bq)(ue,xe,ce),o=Te[N.gN.CURRENCY_A],r=Te[N.gN.CURRENCY_B],o&&r&&Re&&ke&&Qe){e.next=6;break}return e.abrupt("return");case 6:return t={},(0,l.Z)(t,N.gN.CURRENCY_A,(0,B.uc)(o,qe?0:ze)[0]),(0,l.Z)(t,N.gN.CURRENCY_B,(0,B.uc)(r,qe?0:ze)[0]),d=t,Re===x.c0||ke===x.c0?(p=ke===x.c0,c=n.estimateGas.addLiquidityETH,u=n.addLiquidityETH,m=[null!==(h=null===(b=(0,k.pu)(p?Re:ke,ue))||void 0===b?void 0:b.address)&&void 0!==h?h:"",(p?o:r).raw.toString(),d[p?N.gN.CURRENCY_A:N.gN.CURRENCY_B].toString(),d[p?N.gN.CURRENCY_B:N.gN.CURRENCY_A].toString(),ce,Qe.toHexString()],g=v.O$.from((p?r:o).raw.toString())):(c=n.estimateGas.addLiquidity,u=n.addLiquidity,m=[null!==(f=null===(C=(0,k.pu)(Re,ue))||void 0===C?void 0:C.address)&&void 0!==f?f:"",null!==(y=null===(R=(0,k.pu)(ke,ue))||void 0===R?void 0:R.address)&&void 0!==y?y:"",o.raw.toString(),r.raw.toString(),d[N.gN.CURRENCY_A].toString(),d[N.gN.CURRENCY_B].toString(),ce,Qe.toHexString()],g=null),He(!0),e.next=11,c.apply(void 0,(0,i.Z)(m).concat([g?{value:g}:{}])).then((function(e){return u.apply(void 0,(0,i.Z)(m).concat([(0,a.Z)((0,a.Z)({},g?{value:g}:{}),{},{gasLimit:(0,B.yC)(e),gasPrice:me})])).then((function(e){var t,n,i,o;He(!1),(0,z.B)(e.wait()),ut(e,{summary:"Add ".concat(null===(t=Te[N.gN.CURRENCY_A])||void 0===t?void 0:t.toSignificant(3)," ").concat(null===(n=Pe[N.gN.CURRENCY_A])||void 0===n?void 0:n.symbol," and ").concat(null===(i=Te[N.gN.CURRENCY_B])||void 0===i?void 0:i.toSignificant(3)," ").concat(null===(o=Pe[N.gN.CURRENCY_B])||void 0===o?void 0:o.symbol)}),Je(e.hash),de(!1),Oe("")}))})).catch((function(e){He(!1),(0,z.x2)(e.data?e.data.message:e.message),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e)}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vt=(0,c.useCallback)((function(e){var t=D(e);if(t===Ce){var n=Ce;ye(be),pe(n)}else pe(t)}),[Ce,be]),mt=(0,c.useCallback)((function(e){var t=D(e);if(be===t){var n=Ce;ye(be),pe(n)}else ye(t)}),[be,Ce]),gt=((0,F.mP)(null===Pe||void 0===Pe?void 0:Pe.CURRENCY_A,null===Pe||void 0===Pe?void 0:Pe.CURRENCY_B),(0,p.B3)()),ht=(0,c.useMemo)((function(){return gt.map((function(e){return{liquidityToken:(0,p.Ce)(e),tokens:e}}))}),[gt]),bt=(0,c.useMemo)((function(){return ht.map((function(e){return e.liquidityToken}))}),[ht]),pt=(0,S.v2)(null!==ce&&void 0!==ce?ce:void 0,bt),ft=(0,r.Z)(pt,2),Nt=ft[0],Ct=(ft[1],(0,c.useMemo)((function(){return ht.filter((function(e){var t,n=e.liquidityToken;return null===(t=Nt[n.address])||void 0===t?void 0:t.greaterThan("0")}))}),[ht,Nt]),_(Pe[N.gN.CURRENCY_A],Pe[N.gN.CURRENCY_B]));return ce?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("a",{href:"javascript:;",class:"px-4 py-3 text-center text-xs leading-3 text-white dark:text-black dark:hover:text-white bg-indigo-900 dark:bg-white dark:hover:bg-black rounded-lg w-auto font-medium hover:bg-blue-800 transition-all flex items-center",onClick:function(){return de(!0)},children:[(0,J.jsx)("i",{class:"las la-plus mr-2 text-lg leading-none"}),(0,J.jsx)("span",{children:"Create Pool"})]}),re?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none px-3",children:(0,J.jsx)("div",{className:"relative w-full md:w-1/2 my-6 mx-auto",children:(0,J.jsxs)("div",{className:"border-0 rounded-3xl shadow-lg relative flex flex-col w-full bg-white dark:bg-black outline-none focus:outline-none",children:[(0,J.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t",children:[(0,J.jsx)("h3",{className:"text-lg font-semibold dark:text-white",children:"Create Liquidity Pool"}),(0,J.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-40 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return de(!1)},children:(0,J.jsx)("span",{className:"bg-transparent text-black dark:text-white hover:text-indigo-600 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),(0,J.jsxs)("div",{className:"relative p-6 flex-auto max-h-[550px] overflow-auto",children:[(0,J.jsxs)("div",{className:"md:grid md:grid-cols-10 gap-5 md:mb-0 mb-5",children:[(0,J.jsxs)("div",{className:"md:col-span-10 2xl:col-span-8",children:[(0,J.jsx)("div",{className:"mb-5 border-2 border-gray-100 border-opacity-50 dark:border-opacity-5 bg-gray-100 dark:bg-gray-200 bg-opacity-50 dark:bg-opacity-5 rounded-md shadow-sm p-3 pb-1",children:(0,J.jsx)(ie,{placeHolder:"Token A Amount",label:"Token A",isMax:!nt[N.gN.CURRENCY_A],tokenAddress:h.ZP.bnb.address,tokenSymbol:"bnb",inputValue:et[N.gN.CURRENCY_A],onInputChange:Oe,onMax:function(){var e,t;Oe(null!==(e=null===(t=tt[N.gN.CURRENCY_A])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},showApprove:!1,onItemChange:vt,selectedToken:Pe[N.gN.CURRENCY_A]})}),(0,J.jsx)("div",{className:"mb-5 border-2 border-gray-100 border-opacity-50 dark:border-opacity-5 bg-gray-100 dark:bg-gray-200 bg-opacity-50 dark:bg-opacity-5 rounded-md shadow-sm p-3 pb-1",children:(0,J.jsx)(ie,{placeHolder:"Token B Amount",label:"Token B",isMax:!nt[N.gN.CURRENCY_B],tokenAddress:g.N.mlx,tokenSymbol:"ude",inputValue:et[N.gN.CURRENCY_B],onInputChange:De,onMax:function(){var e,t;De(null!==(e=null===(t=tt[N.gN.CURRENCY_B])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},showApprove:!1,onItemChange:mt,selectedToken:Pe[N.gN.CURRENCY_B]})})]}),(0,J.jsx)("div",{className:"md:col-span-10 2xl:col-span-2 text-center",children:(0,J.jsx)("div",{className:"w-32 2xl:w-40 h-32 2xl:h-40 bg-gray-500 rounded-full relative mx-auto overflow-hidden",children:(0,J.jsxs)("div",{className:"w-full h-full absolute top-0 left-0 flex",children:[(0,J.jsx)("div",{className:"w-1/2 h-full bg-blue-400 flex items-center justify-center text-white text-sm font-medium",children:"50%"}),(0,J.jsx)("div",{className:"w-1/2 h-full bg-green-400 flex items-center justify-center text-white text-sm font-medium",children:"50%"})]})})})]}),(0,J.jsx)("div",{children:(0,J.jsx)("div",{gap:"md",children:(at===M.UK.NOT_APPROVED||at===M.UK.PENDING||st===M.UK.NOT_APPROVED||st===M.UK.PENDING)&&Ke&&(0,J.jsxs)("div",{children:[at!==M.UK.APPROVED&&(0,J.jsx)("button",{onClick:lt,disabled:at===M.UK.PENDING,width:st!==M.UK.APPROVED?"48%":"100%",children:at===M.UK.PENDING?(0,J.jsx)(Q,{children:"Enabling ".concat(null===(d=Pe[N.gN.CURRENCY_A])||void 0===d?void 0:d.symbol)}):"Enable ".concat(null===(C=Pe[N.gN.CURRENCY_A])||void 0===C?void 0:C.symbol)}),st!==M.UK.APPROVED&&(0,J.jsx)("button",{className:"px-2 py-4 mt-2 text-center text-sm text-white bg-indigo-900 rounded-lg w-full font-medium hover:bg-blue-800 transition-all",onClick:ct,disabled:st===M.UK.PENDING,width:at!==M.UK.APPROVED?"48%":"100%",children:st===M.UK.PENDING?(0,J.jsx)(Q,{children:"Enabling ".concat(null===(y=Pe[N.gN.CURRENCY_B])||void 0===y?void 0:y.symbol)}):"Enable ".concat(null===(R=Pe[N.gN.CURRENCY_B])||void 0===R?void 0:R.symbol)})]})})}),(0,J.jsx)("div",{className:"relative mb-5 flex items-center justify-between border-2 border-gray-100 border-opacity-50 dark:border-opacity-0 bg-gray-100 dark:bg-gray-200 bg-opacity-50 dark:bg-opacity-0 rounded-md shadow-sm p-3 pb-1",children:(0,J.jsx)("button",{className:"px-2 py-4 mt-2 text-center text-sm text-white bg-sky-600 rounded-lg w-full font-medium hover:bg-blue-700 transition-all",onClick:function(){return xt.apply(this,arguments)},disabled:!Ke||at!==M.UK.APPROVED||st!==M.UK.APPROVED,children:(0,J.jsx)("span",{children:null!==Me&&void 0!==Me?Me:"Supply Liquidity"})})}),Pe[N.gN.CURRENCY_A]&&Pe[N.gN.CURRENCY_B]&&Se!==G._G.INVALID&&(0,J.jsx)(J.Fragment,{children:(0,J.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:grid-cols-3 gap-5 md:gap-8 mb-8",children:[(0,J.jsx)("div",{className:"col-span-1 md:col-span-1",children:(0,J.jsx)("div",{className:"px-6 py-6 bg-white dark:bg-opacity-30 rounded-3xl shadow-2xl dark:shadow-xl hover:shadow-3xl transition-all",children:(0,J.jsx)("div",{className:"flex flex-wrap",children:(0,J.jsxs)("div",{className:"w-full md:w-1/2 md:pt-6 mb-3 md:mb-0",children:[(0,J.jsx)("h3",{className:"mb-2 text-2xl font-bold text-white text-center md:text-left",children:(0,J.jsx)("span",{className:"dark:text-white text-indigo-700",children:null!==(j=null===Ie||void 0===Ie?void 0:Ie.toSignificant(6))&&void 0!==j?j:"-"})}),(0,J.jsx)("p",{className:"md:mb-8 text-sm font-medium text-black dark:text-indigo-100 text-center md:text-left",children:"".concat(null!==(w=null===(U=Pe[N.gN.CURRENCY_B])||void 0===U?void 0:U.symbol)&&void 0!==w?w:""," per ").concat(null!==(A=null===(K=Pe[N.gN.CURRENCY_A])||void 0===K?void 0:K.symbol)&&void 0!==A?A:"")})]})})})}),(0,J.jsx)("div",{className:"col-span-1 md:col-span-1",children:(0,J.jsx)("div",{className:"px-6 py-6 bg-white dark:bg-opacity-30 rounded-3xl shadow-2xl dark:shadow-xl hover:shadow-3xl transition-all",children:(0,J.jsx)("div",{className:"flex flex-wrap",children:(0,J.jsxs)("div",{className:"w-full md:w-1/2 md:pt-6 mb-3 md:mb-0",children:[(0,J.jsx)("h3",{className:"mb-2 text-2xl font-bold text-white text-center md:text-left",children:(0,J.jsx)("span",{className:"dark:text-white text-indigo-700",children:null!==(H=null===Ie||void 0===Ie||null===($=Ie.invert())||void 0===$?void 0:$.toSignificant(6))&&void 0!==H?H:"-"})}),(0,J.jsx)("p",{className:"md:mb-8 text-sm font-medium text-black dark:text-indigo-100 text-center md:text-left",children:"".concat(null!==(X=null===(ee=Pe[N.gN.CURRENCY_A])||void 0===ee?void 0:ee.symbol)&&void 0!==X?X:""," per ").concat(null!==(te=null===(ne=Pe[N.gN.CURRENCY_B])||void 0===ne?void 0:ne.symbol)&&void 0!==te?te:"")})]})})})}),(0,J.jsx)("div",{className:"col-span-1 md:col-span-1",children:(0,J.jsx)("div",{className:"px-6 py-6 bg-white dark:bg-opacity-30 rounded-3xl shadow-2xl dark:shadow-xl hover:shadow-3xl transition-all",children:(0,J.jsx)("div",{className:"flex flex-wrap",children:(0,J.jsxs)("div",{className:"w-full md:w-1/2 md:pt-6 mb-3 md:mb-0",children:[(0,J.jsx)("h3",{className:"mb-2 text-2xl font-bold text-white text-center md:text-left",children:(0,J.jsxs)("span",{className:"dark:text-white text-indigo-700",children:[qe&&Ie?"100":null!==(oe=null!==Le&&void 0!==Le&&Le.lessThan(W.IS)?"<0.01":null===Le||void 0===Le?void 0:Le.toFixed(2))&&void 0!==oe?oe:"0","%"]})}),(0,J.jsx)("p",{className:"md:mb-8 text-sm font-medium text-black dark:text-indigo-100 text-center md:text-left",children:"Share of Pool"})]})})})})]})}),Ct[1]&&(0,J.jsx)(je,{pair:Ct[1]})]})]})})}),(0,J.jsx)("div",{className:"opacity-75 fixed inset-0 z-40 bg-black backdrop-blur-xl"})]}):null]}):(0,J.jsx)(we.Z,{})}}}]);
//# sourceMappingURL=360.5526db83.chunk.js.map